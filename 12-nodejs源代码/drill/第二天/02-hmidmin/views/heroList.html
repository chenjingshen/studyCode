<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <!-- 导入jquery -->
    <script src="/node_modules/jquery/dist/jquery.min.js"></script>
    <!-- 导入bootstrap -->
    <link rel="stylesheet" href="/node_modules/bootstrap/dist/css/bootstrap.css">
    <script src="/node_modules/bootstrap/dist/js/bootstrap.js"></script>
    <title>王者荣耀英雄管理器</title>
    <style>
        .hero-list img {
            width: 50px;
        }
    </style>
</head>

<body>
    <header>
        <div class="page-header container">
            <h1>
                <a href="/">王者荣耀</a>
                <small>英雄管理器</small>
            </h1>
        </div>
    </header>
    <div class="container hero-list">
        <a class="btn btn-success pull-right" href="/heroAdd">添加英雄</a>
        <table class="table table-hover">
            <thead>
                <th>编号</th>
                <th>名称</th>
                <th>性别</th>
                <th>头像</th>
                <th>操作</th>
            </thead>
            <tbody>
                {{each heros}}
                <tr>
                    <td>{{$value.id}} </td>
                    <td>{{$value.name}}</td>
                    <td>{{$value.gender}}</td>
                    <td>
                        <img src="{{$value.icon}}">
                    </td>
                    <td>
                        <a href="">查看</a>
                        <a class="delet" href="">删除</a>
                    </td>
                </tr>
                {{/each}}
            </tbody>
        </table>
    </div>
    <!-- <script type="text/javascript">
        $('.delet').on('click', function (e) {
            //1.禁用默认事件(无视a标签的href属性)
            e.preventDefault();
            //2.弹窗提示
            if (window.confirm('are you sure?')) {
                //3.使用ajax发送请求
                $.ajax({
                    url: $(this).attr('href'), //获取删除标签的href属性的值
                    type: 'get',
                    dataType: 'json',
                    success: function (data) {
                        if (data.err_code == 0) {
                            
                            self.location.href = '/';
                        } else {
                            alert(data.message);
                            console.log(err);
                        }
                    }
                });
            }
        });
    </script> -->

</body>

</html>