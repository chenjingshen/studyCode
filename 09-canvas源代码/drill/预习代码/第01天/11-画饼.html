<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        #canvas {
            border: 1px solid #000;
        }
    </style>
</head>
<body>
<canvas width="600" height="400" id="canvas"></canvas>
</body>
</html>
<script>
    var canvas = document.getElementById("canvas");
    var context = canvas.getContext("2d");

    //1. 模拟数据
    var datasArr = [
        {"type":"设计美眉", "count": 180, color: "hotpink"},
        {"type":"程序辕", "count": 300, color: "skyblue"},
        {"type":"程序员鼓励师", "count": 200, color: "yellow"},
        {"type":"产品经理", "count": 80, color: "yellowgreen"},
        {"type":"测试", "count": 220, color: "red"},
        {"type":"营销人员", "count": 120, color: "orange"}
    ];

    //2. 算出人员的总数
    var sum = 0;
    datasArr.forEach(function (data) {
        sum += data.count;
    });

    //3. 循环画饼
    //起始弧度
    var startRadian = 0;
    for (var i = 0; i<datasArr.length; i++) {
        //每个扇形，都要用一张新的玻璃纸
        context.beginPath();

        var radian = datasArr[i].count / sum * 2 * Math.PI;
        //结束弧度
        var endRadian = startRadian + radian;
        context.arc(300, 200, 120, startRadian, endRadian);
        context.lineTo(300, 200);
        context.closePath();
        context.fillStyle = datasArr[i].color;
        context.fill();

        //起启弧度要递增
        startRadian += radian;
    }

</script>