<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        #canvas {
            border: 1px solid #000;
        }
    </style>
</head>
<body>
<canvas width='600' height='400' id='canvas'></canvas>
</body>
</html>
<script>
    var canvas = document.getElementById('canvas');
    var context = canvas.getContext('2d');


    // 先给小球一个初始点
    var x=30;
    var y=200;
    context.fillStyle='rgba(0,0,255,1)';
    var xspeed=2;//每一步走的x值
    var yspeed=1.3;//每一步走的y值
    function draw(){
        if(x<30||x>canvas.width-30){
            xspeed=-xspeed;
        }
        x+=xspeed;

        if(y<30||y>canvas.height-30){
            yspeed=-yspeed;
        }
        y+=yspeed;
        // 清除玻璃板
        context.clearRect(0, 0, canvas.width, canvas.height);
        // 每一帧要保证玻璃上只有一个小球
        context.beginPath();
        context.arc(x, y, 30, 0, Math.PI*2);
        context.fill();
         //递归调用，自己调用自己, 可以自动适应浏览器的刷新频率， 并且针对canvas的动画做性能优化；在实际开发中， 建议使用这个方法
         window.webkitRequestAnimationFrame(draw);
    }
    draw();
     //使用setInterval一帧一帧地播放图片
    //setInterval(draw, 16.7);
</script>