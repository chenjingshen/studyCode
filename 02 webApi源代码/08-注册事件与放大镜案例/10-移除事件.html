<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>

    <!--

    removeEventListener:
                    参数1：移除的事件名（字符串）
                    参数2：要移除的函数的名字

    IE8:
        detachEvent
                   参数1：移除的事件名（字符串，但是记得要加on）
                   参数2：要移除的函数的名字

        要注意：如果添加事件时用的是匿名函数，那么移除时不能移除



    -->

    <style>
        #box {
            width: 300px;
            height: 300px;
            background-color: red;
        }
    </style>
</head>
<body>

<input type="button" value="移除事件" id="remove"/>

<div id="box"></div>

</body>
</html>


<script>
    var box = document.getElementById("box");

    /*
     //添加事件时加了一个有名字的函数
     box.addEventListener("click", sayHi);


     //添加事件时加了一个匿名函数
     box.addEventListener("click", function () {

     alert("嘿嘿嘿");
     });


     function sayHi() {

     alert("你好");
     }

     //给删除按钮加点击事件
     document.getElementById("remove").onclick = function () {

     //参数1：移除哪一个事件的名字
     //参数2：移除的函数是哪个
     box.removeEventListener("click", sayHi);

     box.removeEventListener("click", function () {

     alert("嘿嘿嘿");
     });
     }
     */

    box.attachEvent("onclick", sayHi);
    box.attachEvent("onclick", function () {

        alert("嘿嘿嘿");
    });

    function sayHi() {
        alert("你好");
    }


    document.getElementById("remove").onclick = function () {

        box.detachEvent("onclick", sayHi);

        //匿名函数依然不能移除
        box.detachEvent("onclick", function () {

            alert("嘿嘿嘿");
        });
    };


    function removeEvent(obj, eventName, f) {

        if (obj.removeEventListener) {

            obj.removeEventListener(eventName, f);

        } else {

            obj.detachEvent("on" + eventName, f);
        }
    }
</script>